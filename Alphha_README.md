# Alphha DMS - Application Development Prompt

## Executive Summary

This document provides a comprehensive JSON prompt for building **Alphha DMS** - an Enterprise-grade Government Document Management System. The prompt was generated by analyzing the uploaded Excel specification containing 3 sheets with detailed requirements.

---

## Excel Analysis Summary

### Sheet 1: Final V1 (109 rows, 6 columns)
**Core Document Management Modules:**

| Module | Key Features |
|--------|--------------|
| **5.1 Versioning Module** | Immutable versions, rollback, audit trail, diff viewer |
| **5.2 Document Lifecycle** | Draft → Review → Approved → Archived states |
| **5.3 Records Management (WORM)** | Write-Once-Read-Many, retention, checksums |
| **Retention & Policy Engine** | Central policy console, auto-archive/purge |
| **Governance & Analytics** | Dashboards, OCR metrics, compliance reporting |
| **Legal Hold & E-Discovery** | Freeze documents, export evidence bundles |
| **Advanced Access (RBAC+ABAC)** | Roles, attributes, document classification |
| **DLP & PII Detection** | Pattern detection, masking, redaction |
| **Taxonomy & Auto-Tagging** | NER extraction, tag approval queue |
| **Immutable Audit Ledger** | Hash chains, Merkle roots, verification |
| **Vector Search & Semantic Retrieval** | Hybrid keyword + embedding search |
| **AI-Augmented Q&A Chatbot** | Natural language queries with citations |
| **Edge/Offline Capture & Sync** | PWA, local OCR, auto-sync |
| **Bank Statement Intelligence (BSI)** | Transaction parsing, RAG scoring, anomaly detection |

---

### Sheet 2: PII Final (22 rows, 6 columns)
**PII Protection Framework:**

| Component | Functionality |
|-----------|---------------|
| **PII Detection Layer** | Regex + optional AI pattern matching |
| **Pattern Master** | Admin-configurable patterns per tenant |
| **Policy Engine** | Mask/Redact/ACL/Encrypt actions |
| **Lifecycle Enforcement** | Consistent protection: ingest → view → export |
| **Audit Logging** | Track all PII access events |
| **Actions** | Mask (****last4), Redact ([REDACTED]), Encrypt (AES-256) |
| **Pattern Assignments** | Auto-detect PII by document type |
| **Normalization/Validation** | IBAN, Luhn, E.164 validation |

**Supported PII Types:** PAN, Aadhaar, IBAN, Passport, Email, Phone, Credit Card, Bank Account

---

### Sheet 3: P2_Final_Updated (335 rows, 4 columns)
**Extended Requirements & Additional Modules:**

| Category | Details |
|----------|---------|
| **UI/UX & Integration** | API integration, SSO, Banks, SIEM, IAM |
| **Document Classification** | Customer/Vendor/Internal source types |
| **CRM/ERP Integration** | Customer/Vendor lookup and linking |
| **Approval Workflows** | Sequential/Parallel, Auto/Manual modes |
| **Document Overview Page** | Preview, metadata, custom fields, related docs |
| **Dynamic Dashboard** | Configurable columns, custom fields |
| **Permission Levels** | Owner/Editor/Commenter/Approver/Viewer/Downloader |
| **User Roles** | Configurable feature-based permissions |
| **Security Controls** | TLS 1.3, MFA, RBAC, ACLs, encryption, WAF |
| **Multi-Tenancy** | DB/Schema/Row-level isolation, tenant keys |
| **Deployment** | Cloud (AWS/Azure/GCP), On-premise, Docker |

---

## Technology Stack

### Frontend
- **Framework:** React 18+ with TypeScript
- **UI Library:** Ant Design Pro / Material-UI
- **Styling:** TailwindCSS
- **State Management:** Redux Toolkit / Zustand
- **Charts:** Recharts / ECharts

### Backend
- **Framework:** Python FastAPI
- **ORM:** SQLAlchemy 2.0
- **Authentication:** JWT + OAuth2/OIDC
- **Background Jobs:** Celery + Redis
- **OCR:** Tesseract / EasyOCR

### Database
- **Primary:** SQLite (Production: PostgreSQL with pgvector)

---

## JSON Prompt Structure

The `Alphha_application_prompt.json` contains:

```
├── project_name & description
├── tech_stack (frontend, backend, database)
├── design_requirements (colors, typography, UI patterns)
├── modules[] (19 complete modules with)
│   ├── features & requirements
│   ├── database_schema (tables, columns, indexes)
│   └── api_endpoints
├── security_requirements
├── ui_components (layouts, pages, reusable)
├── background_jobs
├── project_structure
├── development_phases (4 phases, 12 weeks)
├── testing_requirements
└── documentation_requirements
```

---

## How to Use with Claude Code

1. **Open Claude Code** in your terminal

2. **Load the JSON prompt:**
   ```bash
   claude "I want to build the Alphha DMS application. Here's the complete specification: [paste JSON or upload file]"
   ```

3. **Start with Phase 1:**
   ```bash
   claude "Let's begin with Phase 1 - Core Foundation. Create the project structure for FastAPI backend and React frontend."
   ```

4. **Build incrementally by module:**
   ```bash
   claude "Implement Module M01 - Authentication & Authorization with all database tables and API endpoints."
   ```

---

## Development Phases

| Phase | Duration | Focus Areas |
|-------|----------|-------------|
| **Phase 1** | 4 weeks | Auth, Document Management, Versioning, Lifecycle, Audit |
| **Phase 2** | 3 weeks | Workflows, WORM, Retention, Legal Hold, PII |
| **Phase 3** | 3 weeks | Sharing, Tagging, Search, AI Q&A, Analytics |
| **Phase 4** | 2 weeks | BSI, Offline/Edge, Multi-Tenancy, Notifications |

**Total Estimated Duration:** 12 weeks

---

## Key Features for Government Use

✅ **Compliance:** WORM records, retention policies, audit trails  
✅ **Security:** AES-256 encryption, MFA, RBAC/ABAC  
✅ **Privacy:** PII detection, masking, redaction  
✅ **Legal:** Legal hold, e-discovery, evidence export  
✅ **Audit:** Immutable ledger, Merkle roots, verification  
✅ **Multi-Tenant:** Isolated data, tenant-specific config  
✅ **Accessibility:** WCAG 2.1 AA compliant  

---

## Database Tables Overview

The system includes **40+ database tables** organized across modules:

**Core:** users, roles, tenants, documents, folders, document_types, departments  
**Versioning:** document_versions, document_locks  
**Workflow:** approval_workflows, approval_steps, approval_requests, approval_actions  
**Compliance:** worm_records, retention_policies, legal_holds, evidence_exports  
**PII:** pii_patterns, pii_policies, document_pii_fields, pii_access_logs  
**Audit:** audit_events, audit_roots, audit_verifications  
**Search:** document_embeddings, saved_searches  
**Analytics:** (aggregated views from existing tables)  
**BSI:** bank_statements, bank_transactions  

---

## Next Steps

1. Review the JSON prompt file
2. Set up development environment
3. Initialize FastAPI + React projects
4. Begin with authentication module
5. Iterate through phases systematically

For questions or modifications to the specification, refer back to the original Excel sheets.
